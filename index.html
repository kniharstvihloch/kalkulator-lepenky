<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Kalkul√°tor ≈ôezan√© lepenky</title>

<style>
body{
  font-family: Arial, sans-serif;
  max-width: 750px;
  margin: 40px auto;
}

input, select{
  padding:8px;
  margin:6px 0;
  width: 200px;
}

.box{
  background:#f5f5f5;
  padding:18px;
  margin-top:20px;
  border-radius:8px;
}

.sectionTitle{
  font-weight:bold;
  margin-bottom:8px;
  font-size:18px;
}

.total{
  font-size:24px;
  font-weight:bold;
  margin-top:20px;
}

.buttonWrap{
  margin-top:15px;
}

.bigButton{
  display:inline-block;
  padding:14px 22px;
  margin:8px 8px 8px 0;
  font-size:16px;
  font-weight:bold;
  border-radius:8px;
  text-decoration:none;
  cursor:pointer;
  transition:0.3s;
  border:none;
}

.green{
  background:#2e7d32;
  color:white;
}

.green:hover{
  background:#1b5e20;
}

.blue{
  background:#1565c0;
  color:white;
}

.blue:hover{
  background:#0d47a1;
}

.copyBtn{
  background:#555;
  color:white;
  padding:8px 14px;
  border-radius:6px;
  border:none;
  cursor:pointer;
  margin-top:8px;
}

.copyBtn:hover{
  background:#333;
}

.pulse{
  animation:pulse 1.8s infinite;
}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(46,125,50,0.7);}
  70%{box-shadow:0 0 0 12px rgba(46,125,50,0);}
  100%{box-shadow:0 0 0 0 rgba(46,125,50,0);}
}
</style>
</head>

<body>

<h2>Kalkul√°tor ≈ôezan√© kniha≈ôsk√© lepenky</h2>

<label>S√≠la lepenky:</label><br>
<select id="tloustka">
  <option value="14">1 mm (14 Kƒç / arch)</option>
  <option value="21">1,5 mm (21 Kƒç / arch)</option>
  <option value="25">2 mm (25 Kƒç / arch)</option>
  <option value="30">2,5 mm (30 Kƒç / arch)</option>
  <option value="35">3 mm (35 Kƒç / arch)</option>
  <option value="43">3,5 mm (43 Kƒç / arch)</option>
</select><br>

<label>≈†√≠≈ôka (mm):</label><br>
<input type="number" id="sirka"><br>

<label>V√Ω≈°ka (mm):</label><br>
<input type="number" id="vyska"><br>

<label>Poƒçet kus≈Ø:</label><br>
<input type="number" id="pocet" value="1"><br>

<div class="box" id="vysledek"></div>

<div class="total" id="finalCena">Celkov√° cena: 0 Kƒç</div>

<div class="box" id="akceBox" style="display:none;"></div>

<script>

const ARCH_SIRKA = 500;
const ARCH_VYSKA = 700;

function spocitat(){

let sirka = parseFloat(document.getElementById("sirka").value);
let vyska = parseFloat(document.getElementById("vyska").value);
let pocet = parseInt(document.getElementById("pocet").value);
let cenaArch = parseFloat(document.getElementById("tloustka").value);

if(!sirka || !vyska || !pocet){
  document.getElementById("vysledek").innerHTML="";
  document.getElementById("finalCena").innerHTML="Celkov√° cena: 0 Kƒç";
  document.getElementById("akceBox").style.display="none";
  return;
}

let kusyA = Math.floor(ARCH_SIRKA / sirka) *
            Math.floor(ARCH_VYSKA / vyska);

let kusyB = Math.floor(ARCH_SIRKA / vyska) *
            Math.floor(ARCH_VYSKA / sirka);

let kusyNaArch = Math.max(kusyA, kusyB);

if(kusyNaArch < 1){
  document.getElementById("vysledek").innerHTML="Rozmƒõr se nevejde do archu 500√ó700 mm.";
  document.getElementById("finalCena").innerHTML="Celkov√° cena: 0 Kƒç";
  document.getElementById("akceBox").style.display="none";
  return;
}

let potrebneArchy = Math.ceil(pocet / kusyNaArch);
let cenaMaterial = potrebneArchy * cenaArch;

let cenaRezZaKus = 3;
if(pocet >= 11 && pocet <= 100) cenaRezZaKus = 2;
if(pocet >= 101) cenaRezZaKus = 1;

let cenaRez = pocet * cenaRezZaKus;
let final = cenaMaterial + cenaRez;

document.getElementById("vysledek").innerHTML =
"Na jeden arch se vejde: <b>"+kusyNaArch+" ks</b><br>" +
"Pot≈ôebn√Ω poƒçet arch≈Ø: <b>"+potrebneArchy+"</b><br>" +
"Cena materi√°lu: <b>"+cenaMaterial+" Kƒç</b><br>" +
"Cena ≈ôez√°n√≠: <b>"+cenaRez+" Kƒç</b>";

document.getElementById("finalCena").innerHTML =
"Celkov√° cena: "+Math.round(final)+" Kƒç";

let specifikace =
"≈òEZ√ÅN√ç NA M√çRU\n" +
"Rozmƒõr: "+sirka+" √ó "+vyska+" mm\n" +
"Poƒçet kus≈Ø: "+pocet+"\n" +
"S√≠la: "+document.getElementById("tloustka").selectedOptions[0].text+"\n" +
"Poƒçet arch≈Ø: "+potrebneArchy+"\n" +
"Cena ≈ôez√°n√≠: "+cenaRez+" Kƒç";

document.getElementById("akceBox").style.display="block";
document.getElementById("akceBox").innerHTML =

"<div class='sectionTitle'>üì¶ Materi√°l</div>" +
"Pot≈ôebujete <b>"+potrebneArchy+" ks</b> arch≈Ø 500√ó700 mm.<br>" +
"<div class='buttonWrap'>" +
"<a href='https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/' target='_blank' class='bigButton blue'>P≈ôidat lepenku do ko≈°√≠ku</a>" +
"</div>" +

"<hr style='margin:20px 0;'>" +

"<div class='sectionTitle'>‚úÇ ≈òez√°n√≠</div>" +
"Cena ≈ôez√°n√≠: <b>"+cenaRez+" Kƒç</b><br>" +
"U produktu ‚Äû≈òez√°n√≠ na m√≠ru‚Äú zadejte mno≈æstv√≠: <b>"+cenaRez+"</b><br>" +
"<div class='buttonWrap'>" +
"<a href='https://www.kniharstvijihlava.cz/e-shop/rezani-na-miru/' target='_blank' class='bigButton green pulse'>P≈ôidat ≈ôez√°n√≠ do ko≈°√≠ku</a>" +
"<br><button class='copyBtn' onclick='kopirovat()'>üìã Kop√≠rovat specifikaci</button>" +
"</div>";

window.aktualniText = specifikace;

}

function kopirovat(){
navigator.clipboard.writeText(window.aktualniText);
alert("Specifikace zkop√≠rov√°na do schr√°nky.");
}

document.addEventListener("input", spocitat);
document.addEventListener("change", spocitat);

</script>

</body>
</html>
