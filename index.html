<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Konfigur√°tor ≈ôez√°n√≠ lepenky</title>

<style>
body{
  font-family: Arial, sans-serif;
  max-width: 1000px;
  margin:40px auto;
}

h2{
  text-align:center;
}

.hidden{
  display:none;
}

.selectGrid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
  margin-top:30px;
}

.selectBtn{
  padding:25px;
  font-size:18px;
  font-weight:bold;
  border-radius:12px;
  border:none;
  cursor:pointer;
  background:#1565c0;
  color:white;
  transition:0.3s;
}

.selectBtn:hover{
  background:#0d47a1;
  transform:scale(1.03);
}

.backBtn{
  background:#777;
  color:white;
  padding:8px 14px;
  border-radius:6px;
  border:none;
  cursor:pointer;
  margin-bottom:20px;
}

input, select{
  padding:8px;
  margin:6px 0;
  width:200px;
}

.box{
  background:#f5f5f5;
  padding:18px;
  margin-top:20px;
  border-radius:10px;
}

.flexWrap{
  display:flex;
  gap:20px;
  margin-top:20px;
  flex-wrap:wrap;
}

.actionBox{
  flex:1;
  min-width:280px;
  background:white;
  padding:18px;
  border-radius:10px;
  box-shadow:0 3px 10px rgba(0,0,0,0.08);
}

.bigButton{
  display:inline-block;
  padding:14px 20px;
  margin-top:12px;
  font-size:16px;
  font-weight:bold;
  border-radius:8px;
  text-decoration:none;
  cursor:pointer;
  border:none;
  transition:0.3s;
}

.blue{
  background:#1565c0;
  color:white;
}

.blue:hover{
  background:#0d47a1;
}

.green{
  background:#2e7d32;
  color:white;
}

.green:hover{
  background:#1b5e20;
}

.copyBtn{
  background:#555;
  color:white;
  padding:8px 14px;
  border-radius:6px;
  border:none;
  cursor:pointer;
  margin-top:10px;
}

.pulse{
  animation:pulse 1.8s infinite;
}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(46,125,50,0.7);}
  70%{box-shadow:0 0 0 12px rgba(46,125,50,0);}
  100%{box-shadow:0 0 0 0 rgba(46,125,50,0);}
}

.total{
  font-size:24px;
  font-weight:bold;
  margin-top:20px;
}
</style>
</head>

<body>

<!-- KROK 1 ‚Äì V√ùBƒöR -->
<div id="vyber">
<h2>Vyberte typ lepenky</h2>

<div class="selectGrid">
<button class="selectBtn" onclick="vybrat('klasik500')">Kniha≈ôsk√° lepenka 500√ó700</button>
<button class="selectBtn" onclick="vybrat('klasik1000')">Kniha≈ôsk√° lepenka 1000√ó700</button>
<button class="selectBtn" onclick="vybrat('sklad500')">Skl√°daƒçkov√° lepenka 500√ó700</button>
<button class="selectBtn" onclick="vybrat('sklad1000')">Skl√°daƒçkov√° lepenka 1000√ó700</button>
</div>
</div>

<!-- KROK 2 ‚Äì KALKUL√ÅTOR -->
<div id="kalkulator" class="hidden">

<button class="backBtn" onclick="zpet()">‚Üê Zmƒõnit typ lepenky</button>

<h2 id="nadpis"></h2>

<label>≈†√≠≈ôka (mm):</label><br>
<input type="number" id="sirka"><br>

<label>V√Ω≈°ka (mm):</label><br>
<input type="number" id="vyska"><br>

<label>Poƒçet kus≈Ø:</label><br>
<input type="number" id="pocet" value="1"><br>

<div class="box" id="vysledek"></div>
<div class="total" id="finalCena">Celkov√° cena: 0 Kƒç</div>
<div id="akceBox"></div>

</div>

<script>

let ARCH_SIRKA = 500;
let ARCH_VYSKA = 700;
let cenaArch = 0;
let urlProdukt = "";

const URL_REZANI = "https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/rezani/rezani/#rating";

function vybrat(typ){

document.getElementById("vyber").classList.add("hidden");
document.getElementById("kalkulator").classList.remove("hidden");

if(typ==="klasik500"){
ARCH_SIRKA=500; ARCH_VYSKA=700; cenaArch=25;
urlProdukt="https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/kniharska-lepenka-2/kniharska-lepenka-500-x-700/";
document.getElementById("nadpis").innerText="Kniha≈ôsk√° lepenka 500√ó700";
}

if(typ==="klasik1000"){
ARCH_SIRKA=1000; ARCH_VYSKA=700; cenaArch=50;
urlProdukt="https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/kniharska-lepenka-2/kniharska-lepenka1/";
document.getElementById("nadpis").innerText="Kniha≈ôsk√° lepenka 1000√ó700";
}

if(typ==="sklad500"){
ARCH_SIRKA=500; ARCH_VYSKA=700; cenaArch=10;
urlProdukt="https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/skladackova-lepenka/skladackova-lepenka-0-7-mm-500-x-700-mm/";
document.getElementById("nadpis").innerText="Skl√°daƒçkov√° lepenka 500√ó700";
}

if(typ==="sklad1000"){
ARCH_SIRKA=1000; ARCH_VYSKA=700; cenaArch=20;
urlProdukt="https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/skladackova-lepenka/skladackova-lepenka-0-7-mm-1000-x-700-mm/";
document.getElementById("nadpis").innerText="Skl√°daƒçkov√° lepenka 1000√ó700";
}

}

function zpet(){
document.getElementById("kalkulator").classList.add("hidden");
document.getElementById("vyber").classList.remove("hidden");
}

function spocitat(){

let sirka=parseFloat(document.getElementById("sirka").value);
let vyska=parseFloat(document.getElementById("vyska").value);
let pocet=parseInt(document.getElementById("pocet").value);

if(!sirka||!vyska||!pocet)return;

let kusyA=Math.floor(ARCH_SIRKA/sirka)*Math.floor(ARCH_VYSKA/vyska);
let kusyB=Math.floor(ARCH_SIRKA/vyska)*Math.floor(ARCH_VYSKA/sirka);
let kusyNaArch=Math.max(kusyA,kusyB);

if(kusyNaArch<1)return;

let potrebneArchy=Math.ceil(pocet/kusyNaArch);
let cenaMaterial=potrebneArchy*cenaArch;

let cenaRezZaKus=3;
if(pocet>=11&&pocet<=100)cenaRezZaKus=2;
if(pocet>=101)cenaRezZaKus=1;

let cenaRez=pocet*cenaRezZaKus;
let final=cenaMaterial+cenaRez;

document.getElementById("vysledek").innerHTML=
"Na jeden arch: <b>"+kusyNaArch+" ks</b><br>"+
"Pot≈ôebn√© archy: <b>"+potrebneArchy+"</b><br>"+
"Cena materi√°lu: <b>"+cenaMaterial+" Kƒç</b><br>"+
"Cena ≈ôez√°n√≠: <b>"+cenaRez+" Kƒç</b>";

document.getElementById("finalCena").innerHTML="Celkov√° cena: "+Math.round(final)+" Kƒç";

let text=
"≈òEZ√ÅN√ç NA M√çRU\n"+
"Rozmƒõr: "+sirka+" √ó "+vyska+" mm\n"+
"Poƒçet: "+pocet+"\n"+
"Poƒçet arch≈Ø: "+potrebneArchy+"\n"+
"Cena ≈ôez√°n√≠: "+cenaRez+" Kƒç";

window.specText=text;

document.getElementById("akceBox").innerHTML=

"<div class='flexWrap'>"+

"<div class='actionBox'>"+
"<b>üì¶ Materi√°l</b><br>"+
"Pot≈ôebujete "+potrebneArchy+" ks arch≈Ø.<br>"+
"<a href='"+urlProdukt+"' target='_blank' class='bigButton blue'>P≈ôidat lepenku do ko≈°√≠ku</a>"+
"</div>"+

"<div class='actionBox'>"+
"<b>‚úÇ ≈òez√°n√≠</b><br>"+
"Mno≈æstv√≠ zadejte: <b>"+cenaRez+"</b><br><br>"+
"<a href='"+URL_REZANI+"' target='_blank' class='bigButton green pulse'>P≈ôidat ≈ôez√°n√≠ do ko≈°√≠ku</a><br>"+
"<button class='copyBtn' onclick='kopirovat()'>üìã Kop√≠rovat specifikaci</button><br><br>"+
"<small>Text vlo≈æte do pozn√°mky u produktu ≈òez√°n√≠.</small>"+
"</div>"+

"</div>";

}

function kopirovat(){
navigator.clipboard.writeText(window.specText);
alert("Specifikace zkop√≠rov√°na.");
}

document.addEventListener("input",spocitat);

</script>

</body>
</html>
