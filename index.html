<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Konfigur√°tor ≈ôez√°n√≠ lepenky</title>

<style>
body{font-family:Arial,sans-serif;max-width:1100px;margin:40px auto;}
h2{text-align:center;}
.hidden{display:none;}

.selectGrid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
gap:20px;margin-top:30px;
}

.selectBtn{
padding:22px;font-size:17px;font-weight:bold;
border-radius:12px;border:none;cursor:pointer;
background:#1565c0;color:white;transition:.3s;
}
.selectBtn:hover{background:#0d47a1;transform:scale(1.03);}

.backBtn{
background:#777;color:white;padding:8px 14px;
border-radius:6px;border:none;cursor:pointer;margin-bottom:20px;
}

input,select{padding:8px;margin:6px 0;width:220px;}

.box{background:#f5f5f5;padding:18px;margin-top:20px;border-radius:10px;}

.flexWrap{display:flex;gap:20px;margin-top:20px;flex-wrap:wrap;}

.actionBox{
flex:1;min-width:300px;background:white;padding:18px;
border-radius:10px;box-shadow:0 3px 10px rgba(0,0,0,.08);
}

.bigButton{
display:inline-block;padding:14px 20px;margin-top:12px;
font-size:16px;font-weight:bold;border-radius:8px;
text-decoration:none;cursor:pointer;border:none;transition:.3s;
}

.blue{background:#1565c0;color:white;}
.blue:hover{background:#0d47a1;}

.green{background:#2e7d32;color:white;}
.green:hover{background:#1b5e20;}

.copyBtn{
background:#555;color:white;padding:8px 14px;
border-radius:6px;border:none;cursor:pointer;margin-top:10px;
transition:.3s;
}

.pulse{animation:pulse 1.8s infinite;}
@keyframes pulse{
0%{box-shadow:0 0 0 0 rgba(46,125,50,.7);}
70%{box-shadow:0 0 0 12px rgba(46,125,50,0);}
100%{box-shadow:0 0 0 0 rgba(46,125,50,0);}
}

.total{font-size:24px;font-weight:bold;}
</style>
</head>
<body>

<div id="vyber">
<h2>Vyberte typ lepenky</h2>
<div class="selectGrid">
<button class="selectBtn" onclick="vybrat('klasik500')">Kniha≈ôsk√° lepenka 500√ó700</button>
<button class="selectBtn" onclick="vybrat('klasik1000')">Kniha≈ôsk√° lepenka 1000√ó700</button>
<button class="selectBtn" onclick="vybrat('sklad500')">Skl√°daƒçkov√° lepenka 500√ó700</button>
<button class="selectBtn" onclick="vybrat('sklad1000')">Skl√°daƒçkov√° lepenka 1000√ó700</button>
<button class="selectBtn" onclick="vybrat('rucni500')">Ruƒçn√≠ lepenka 500√ó700</button>
<button class="selectBtn" onclick="vybrat('rucni1000')">Ruƒçn√≠ lepenka 1000√ó700</button>
</div>
</div>

<div id="kalkulator" class="hidden">

<button class="backBtn" onclick="zpet()">‚Üê Zmƒõnit typ lepenky</button>
<h2 id="nadpis"></h2>

<div id="volbaTloustky" class="hidden">
<label>S√≠la lepenky:</label><br>
<select id="tloustka"></select><br>
</div>

<label>≈†√≠≈ôka (mm):</label><br>
<input type="number" id="sirka"><br>

<label>V√Ω≈°ka (mm):</label><br>
<input type="number" id="vyska"><br>

<label>Poƒçet kus≈Ø:</label><br>
<input type="number" id="pocet" value="1"><br>

<div class="box" id="vysledek"></div>

<div style="display:flex;align-items:center;gap:15px;margin-top:20px;">
  <div class="total" id="finalCena">Celkov√° cena: 0 Kƒç</div>
  <button onclick="window.print()" 
    style="background:#444;color:white;padding:8px 14px;
           border:none;border-radius:6px;cursor:pointer;">
    üñ® Vytisknout
  </button>
</div>

<div id="akceBox"></div>

</div>

<script>

const URL_REZANI="https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/rezani/rezani/#rating";

const PRODUKTY={

klasik500:{nazev:"Kniha≈ôsk√° lepenka 500√ó700",sirka:500,vyska:700,
tloustky:{1:14,1.5:21,2:25,2.5:30,3:35,3.5:43},
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/kniharska-lepenka-2/kniharska-lepenka-500-x-700/"},

klasik1000:{nazev:"Kniha≈ôsk√° lepenka 1000√ó700",sirka:1000,vyska:700,
tloustky:{1:28,1.5:42,2:49,2.5:59,3:69,3.5:86},
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/kniharska-lepenka-2/kniharska-lepenka1/"},

sklad500:{nazev:"Skl√°daƒçkov√° lepenka 500√ó700",sirka:500,vyska:700,cena:11,
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/skladackova-lepenka/skladackova-lepenka-0-7-mm-500-x-700-mm/"},

sklad1000:{nazev:"Skl√°daƒçkov√° lepenka 1000√ó700",sirka:1000,vyska:700,cena:22,
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/skladackova-lepenka/skladackova-lepenka-0-7-mm-1000-x-700-mm/"},

rucni500:{nazev:"Ruƒçn√≠ lepenka 500√ó700",sirka:500,vyska:700,cena:49,
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/rucni-lepenka/rucni-lepenka-500-x-700/"},

rucni1000:{nazev:"Ruƒçn√≠ lepenka 1000√ó700",sirka:1000,vyska:700,cena:98,
url:"https://www.kniharstvijihlava.cz/e-shop/kniharske-lepenky/rucni-lepenka/rucni-lepenka-1000-x-700/"}
};

let aktualni=null;

function vybrat(klic){
aktualni=PRODUKTY[klic];
document.getElementById("vyber").classList.add("hidden");
document.getElementById("kalkulator").classList.remove("hidden");
document.getElementById("nadpis").innerText=aktualni.nazev;

let volba=document.getElementById("volbaTloustky");
let select=document.getElementById("tloustka");
select.innerHTML="";

if(aktualni.tloustky){
volba.classList.remove("hidden");
for(let t in aktualni.tloustky){
let opt=document.createElement("option");
opt.value=t;
opt.text=t+" mm ("+aktualni.tloustky[t]+" Kƒç / arch)";
select.appendChild(opt);
}
}else{
volba.classList.add("hidden");
}
}

function zpet(){
document.getElementById("kalkulator").classList.add("hidden");
document.getElementById("vyber").classList.remove("hidden");
}

function spocitat(){

if(!aktualni)return;

let sirka=parseFloat(document.getElementById("sirka").value);
let vyska=parseFloat(document.getElementById("vyska").value);
let pocet=parseInt(document.getElementById("pocet").value);
if(!sirka||!vyska||!pocet)return;

let cenaArch=aktualni.cena;
if(aktualni.tloustky){
let t=document.getElementById("tloustka").value;
cenaArch=aktualni.tloustky[t];
}

let kusyA=Math.floor(aktualni.sirka/sirka)*Math.floor(aktualni.vyska/vyska);
let kusyB=Math.floor(aktualni.sirka/vyska)*Math.floor(aktualni.vyska/sirka);

let kusyNaArch;
let otoceno=false;

if(kusyB>kusyA){kusyNaArch=kusyB;otoceno=true;}
else{kusyNaArch=kusyA;}

if(kusyNaArch<1)return;

let potrebneArchy=Math.ceil(pocet/kusyNaArch);
let cenaMaterial=potrebneArchy*cenaArch;

let cenaRezZaKus=3;
if(pocet>=11&&pocet<=100)cenaRezZaKus=2;
if(pocet>=101)cenaRezZaKus=1;

let cenaRez=pocet*cenaRezZaKus;
let final=cenaMaterial+cenaRez;

let infoOtoceni="";
if(otoceno){
infoOtoceni="<br><span style='color:#2e7d32;font-weight:bold;'>Rozmƒõr byl automaticky otoƒçen pro lep≈°√≠ vyu≈æit√≠ materi√°lu.</span>";
}

document.getElementById("vysledek").innerHTML=
"Na jeden arch: <b>"+kusyNaArch+" ks</b><br>"+
"Pot≈ôebn√© archy: <b>"+potrebneArchy+"</b><br>"+
"Cena materi√°lu: <b>"+cenaMaterial+" Kƒç</b><br>"+
"Cena ≈ôez√°n√≠: <b>"+cenaRez+" Kƒç</b>"+
infoOtoceni;

document.getElementById("finalCena").innerHTML="Celkov√° cena: "+Math.round(final)+" Kƒç";

let text="≈òEZ√ÅN√ç NA M√çRU\nRozmƒõr: "+sirka+" √ó "+vyska+" mm\nPoƒçet: "+pocet+"\nPoƒçet arch≈Ø: "+potrebneArchy+"\nCena ≈ôez√°n√≠: "+cenaRez+" Kƒç";
window.specText=text;

document.getElementById("akceBox").innerHTML=
"<div class='flexWrap'>"+
"<div class='actionBox'>"+
"<b>üì¶ Materi√°l</b><br><br>"+
"Pot≈ôebujete: <b>"+potrebneArchy+" ks</b> arch≈Ø lepenky.<br><br>"+
"<a href='"+aktualni.url+"' target='_blank' class='bigButton blue'>P≈ôidat lepenku do ko≈°√≠ku</a><br><br>"+
"<div style='font-size:14px;color:#555;'>üëâ Do ko≈°√≠ku p≈ôidejte <b>"+potrebneArchy+" ks</b> lepenky.</div>"+
"</div>"+
"<div class='actionBox'>"+
"<b>‚úÇ ≈òez√°n√≠ na m√≠ru</b><br><br>"+
"Mno≈æstv√≠ nastavte na: <b style='font-size:18px;'>"+cenaRez+"</b><br><br>"+
"<button class='copyBtn' onclick='kopirovat(this)'>üìã 1. Zkop√≠rovat specifikaci</button><br>"+
"<a href='"+URL_REZANI+"' target='_blank' class='bigButton green pulse'>2. Otev≈ô√≠t produkt ≈òez√°n√≠</a><br><br>"+
"<div style='background:#fff8e1;padding:12px;border-radius:8px;border:1px solid #ffe082;font-size:14px;'>"+
"<b>Jak spr√°vnƒõ objednat:</b><br><br>"+
"1Ô∏è‚É£ Zkop√≠rujte specifikaci<br>"+
"2Ô∏è‚É£ Otev≈ôete produkt ≈òez√°n√≠<br>"+
"3Ô∏è‚É£ Nastavte mno≈æstv√≠ = <b>"+cenaRez+"</b><br>"+
"4Ô∏è‚É£ Vlo≈æte text do pole <b>Pozn√°mka k produktu</b><br>"+
"5Ô∏è‚É£ P≈ôidejte do ko≈°√≠ku"+
"</div>"+
"</div>"+
"</div>";

document.getElementById("finalCena").scrollIntoView({behavior:"smooth",block:"center"});
}

function kopirovat(btn){
navigator.clipboard.writeText(window.specText);
btn.innerHTML="‚úî Zkop√≠rov√°no";
btn.style.background="#2e7d32";
setTimeout(()=>{
btn.innerHTML="üìã 1. Zkop√≠rovat specifikaci";
btn.style.background="#555";
},2000);
}

document.addEventListener("input",spocitat);

</script>
</body>
</html>
